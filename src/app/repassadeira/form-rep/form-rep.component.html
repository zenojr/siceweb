<div id="closeBtn">
  <a (click)="closeRepForm()">
    <img src="../../../assets/img/icons/baseline_close_black_18dp.png" alt="Fechar">
  </a>  
</div>
<div class="containerRep">
  <div class="firstBlock">
    <mat-form-field id="ordemProd">
      <input matInput class="green" placeholder="O.P." value="{{ data.op }}" #op disabled>
    </mat-form-field>
    <mat-form-field id="cliente">
      <input matInput class="green" placeholder="Cliente" value="{{ data.cliente }}" #cliente disabled>
    </mat-form-field>
    <mat-form-field id="codProd">
      <input matInput class="green" placeholder="Cód.Prod." value="{{ data.codProd }}" #codProd disabled>
    </mat-form-field>
    <mat-form-field id="descProd">
      <input matInput class="green" placeholder="Desc.Prod" value="{{ data.descProd }}" #descProd disabled>
    </mat-form-field>
    <mat-form-field id="dimBob">
      <input matInput class="green" placeholder="Dimensão Bob." value="{{ data.dimBob }}" #dimBob disabled>
    </mat-form-field>
    <mat-form-field id="bobMadeira">
      <input matInput class="green" placeholder="Bob.Mad." value="{{ data.bobMad }}" #bobMad disabled>
    </mat-form-field>
    <mat-form-field id="lote">
      <input matInput class="green" placeholder="Lote" value="{{ data.lote }}" #lote disabled>
    </mat-form-field>
    <mat-form-field id="lance">
      <input matInput class="green" placeholder="Lance" value="{{ data.lance }}" #lance disabled>
    </mat-form-field>
    <mat-form-field id="obsOP">
      <input matInput class="green" placeholder="Obs. O.P" value="{{ data.obsOp }}" #obsOp disabled>
    </mat-form-field>
    <mat-form-field id="bobFinal">
      <input matInput class="green" placeholder="Bob. Final" value="{{ data.bobFinal }}" #bobFinal disabled>
    </mat-form-field>
    <mat-form-field id="variacao">
      <input matInput class="green" placeholder="Pode Variar" value="{{ data.podeVariar }}" #podeVariar disabled>
    </mat-form-field>
    <mat-form-field id="varPermMin">
      <input matInput class="green" placeholder="Var. Permitida Min." value="{{ data.varMax }}" #varMax disabled>
    </mat-form-field>
    <mat-form-field id="varPerMax">
      <input matInput class="green" placeholder="Var. Permitida Max." value="{{ data.varMin }}" #varMin disabled>
    </mat-form-field>
  </div>
  <mat-divider></mat-divider>
  <div class="quantidades">
    <mat-form-field id="quantBob">
      <input matInput class="green" placeholder="Qtd.Bobina" value="{{ data.qtdBob }}" #qtdBob disabled>
    </mat-form-field>
    <mat-form-field id="quantRolo">
      <input matInput class="green" placeholder="Qtd.Rolo" value="{{ data.qtdRolo }}" #qtdRolo disabled>
    </mat-form-field>
    <mat-form-field id="quantRetalho">
      <input matInput class="green" placeholder="Qtd.Retalho" value="{{ data.qtdRetalho }}" #qtdRetalho disabled>
    </mat-form-field>
    <mat-form-field id="quantSuc">
      <input matInput class="green" placeholder="Qtd.Sucata" value="{{ data.qtdSucata }}" #qtdSucata disabled>
    </mat-form-field>
  </div>
  <mat-divider></mat-divider>
  <div class="cortes" *ngIf="data.mmValida == 5">
    <mat-form-field id="quantBob">
      <input matInput class="yellow" placeholder="Corte Bob." value="{{ data.corteBob }}" #corteBob disabled>
    </mat-form-field>
    <mat-form-field id="quantRolo">
      <input matInput class="yellow" placeholder="Corte Rolo" value="{{ data.corteRol[indexCorteRol] }}" #corteRol disabled>
    </mat-form-field> 
    <button (click)="nextBtn()" id="reloadBtn" mat-mini-fab color="primary">
      <img src="../../../assets/img/baseline_cached_white_18dp.png" alt="reload">
    </button>
    <mat-form-field id="quantRetalho">
      <input matInput class="yellow" placeholder="Corte Ret." value="{{ data.corteRet }}" #corteRet disabled>
    </mat-form-field>
    <mat-form-field id="quantSuc">
      <input matInput class="yellow" placeholder="Corte Suc." value="{{ data.corteSuc }}" #corteSuc disabled>
    </mat-form-field>
  </div>
  <mat-divider></mat-divider>
  <span id="titleProd">
    <h5>Quant Produzida</h5>
  </span>
 
  <div class="secondBlock">
    <mat-form-field id="bobina">
      <input type="number" class="white" matInput placeholder="Bobina" #bobinaProd
             autocomplete="off" [required]="blockBob" [ngClass]="{prodError: blockBob}">
    </mat-form-field>
    <mat-form-field id="rolo">
      <input type="number" class="white" matInput placeholder="Rolo" #roloProd 
             autocomplete="off" [required]="blockRolo" [ngClass]="{prodError: blockRolo}">
    </mat-form-field>
    <mat-form-field id="retalho">
      <input type="number" class="white" matInput placeholder="Retalho" #retalhoProd 
             autocomplete="off" [required]="blockRetalho" [ngClass]="{prodError: blockRetalho}">
    </mat-form-field>
    <mat-form-field id="sucata">
      <input type="number" id="sucInput" class="white" matInput placeholder="Sucata" #sucataProd 
             autocomplete="off" [required]="blockSucata" [ngClass]="{prodError: blockSucata}" 
             (focusout)="validateSucata(sucataProd.value)" (change)="clearLoginSup()">
    </mat-form-field>
  </div>

  <mat-divider></mat-divider>

  <div class="thirdBlock">

    <div class="contRadio">
      <label>Teste Spark:</label>
      <mat-radio-group [(ngModel)]="testeSpark">
        <mat-radio-button value="sim">Sim</mat-radio-button>
        <mat-radio-button value="nao">Não</mat-radio-button>
      </mat-radio-group>
    </div>

    <mat-form-field id="tara" *ngIf="dimBob.value != 'ROLO' ">
      <input class="white" matInput placeholder="Tara" [(ngModel)]="taraOut" [ngClass]="{prodError: blockTara}" autocomplete="off">
    </mat-form-field>

    <mat-form-field id="ajusteSpark">
      <input class="green" matInput placeholder="Ajst Spark" value="{{ data.spark }}" #spark disabled>
    </mat-form-field>
    <div class="contRadio">
      <mat-radio-group [(ngModel)]="devProd">
        <mat-radio-button (click)="getMotDevolucao()" value="devolver">Devolver</mat-radio-button>
        <mat-radio-button value="produzir">Produzir</mat-radio-button>
      </mat-radio-group>

      <mat-form-field *ngIf="devProd === 'devolver'">        
        <mat-select [(ngModel)]="motDevSelect" placeholder="Selecione uma opção">
          <mat-option value="{{ motivo.codProblema }}" 
                      *ngFor="let motivo of motDevolucao">{{ motivo.descricao }}</mat-option>
        </mat-select>
      </mat-form-field>
      
    </div>
    <mat-form-field id="obsRep">
      <input matInput placeholder="Obs. Rep" class="white" [(ngModel)]="obsRepass" #obsRepassadeira autocomplete="off">
    </mat-form-field>
    <mat-form-field id="sitLab">
      <input class="yellow" matInput placeholder="Sit. Lab" value="{{ data.amostra }}" #amostra disabled>
    </mat-form-field>
    <button (click)="saveFormData(bobinaProd.value,
                                  roloProd.value,
                                  retalhoProd.value,
                                  sucataProd.value,
                                  obsRepassadeira.value)"
      color="primary" mat-raised-button>Salvar
    </button>
  </div>